    <!DOCTYPE html>
    <html lang="en">
        <head data-webp="true" >
             <meta name="viewport" content="width=device-width, maximum-scale=1, minimum-scale=1, user-scalable=no"><meta charset="utf-8">
            <script>
                window.LOCAL_CDN = '//cfcdn.apowersoft.info/local/lightpdf.com';window.COMMON_CDN = '//cfcdn.apowersoft.info';
                </script>
        <script type="application/ld+json">{
           "@context":"http://schema.org","@type":"WebApplication",
           "name":"Online PDF Editor",
           "description":"Online PDF Editor ‚Äì Edit Your PDF File for Free - LightPDF",
           "image":"https://qncdnimg.aoscdn.com/local/lightpdf.com/img/favicon-v1.png",
           "operatingSystem":"All","applicationSuite":"LightPDF Tools",
           "applicationCategory":"LightPDF,Other Tools","offers":{"@type":"Offer","priceCurrency":"USD","price":"0"},
           "aggregateRating":{"@context":"http://schema.org","@type":"AggregateRating","worstRating":"1","bestRating":"5",
           "ratingValue":"4.8","ratingCount":"433"}}
           </script>
           <title>Free Online PDF Editor ‚Äì Edit Your PDF File Without Software</title>
           <!-- This site is optimized with the Yoast SEO plugin v25.3.1 - https://yoast.com/wordpress/plugins/seo/ -->
           <meta name="description" content="This free online PDF editor allows you to modify the text in PDF file by inserting and deleting text. No registration or installation is needed." />
           <link rel="canonical" href="https://lightpdf.com/edit-pdf" />
           <meta property="og:locale" content="en_US" />
           <meta property="og:type" content="article" />
           <meta property="og:title" content="Free Online PDF Editor ‚Äì Edit Your PDF File Without Software" />
           <meta property="og:description" content="This free online PDF editor allows you to modify the text in PDF file by inserting and deleting text. No registration or installation is needed." />
           <meta property="og:url" content="https://lightpdf.com/edit-pdf" />
           <meta property="og:site_name" content="LightPDF" />
           <meta property="article:modified_time" content="2020-05-11T05:51:25+00:00" />
           <meta property="og:image" content="https://webusupload.apowersoft.info/lightpdf/wp-content/uploads/2022/08/600.png" />
           <meta property="og:image:width" content="600" />
           <meta property="og:image:height" content="600" />
           <meta property="og:image:type" content="image/png" />
           <meta name="twitter:card" content="summary_large_image" />
           <script type="application/ld+json" class="yoast-schema-graph">{
               "@context":"https://schema.org","@graph":[{"@type":"WebPage",
               "@id":"https://lightpdf.com/edit-pdf",
               "url":"https://lightpdf.com/edit-pdf",
               "name":"Free Online PDF Editor ‚Äì Edit Your PDF File Without Software",
               "isPartOf":{"@id":"https://lightpdf.com/#website"},
               "datePublished":"2018-02-02T09:40:00+00:00",
               "dateModified":"2020-05-11T05:51:25+00:00",
               "description":"This free online PDF editor allows you to modify the text in PDF file by inserting and deleting text. No registration or installation is needed.",
               "breadcrumb":{"@id":"https://lightpdf.com/edit-pdf#breadcrumb"},
               "inLanguage":"en-US",
               "potentialAction":[{"@type":"ReadAction",
               "target":["https://lightpdf.com/edit-pdf"]}]},{
                "@type":"BreadcrumbList","@id":"https://lightpdf.com/edit-pdf#breadcrumb",
                "itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://lightpdf.com/"},{
                "@type":"ListItem","position":2,"name":"Edit PDF"}]},
                {"@type":"WebSite","@id":"https://lightpdf.com/#website","url":"https://lightpdf.com/","name":"LightPDF",
                "description":"LightPDF","potentialAction":[
                {"@type":"SearchAction","target":{"@type":"EntryPoint",
                "urlTemplate":"https://lightpdf.com/?s={search_term_string}"},
                "query-input":{"@type":"PropertyValueSpecification","valueRequired":true,"valueName":"search_term_string"}}],
                "inLanguage":"en-US"}]}
                </script>
                <!-- / Yoast SEO plugin. -->
                <link rel="preload" as="style" href="//cfcdn.apowersoft.info/local/lightpdf.com/css/old-browser.css?c4a8b743163fd5ab4a43a2906f7366fa">
                <link rel="preload" as="style" href="//cfcdn.apowersoft.info/local/lightpdf.com/css/global.6ce74277.css?6ce74277b965b8eb372fb22f63ecee01">
                <link rel="stylesheet" href="//cfcdn.apowersoft.info/local/lightpdf.com/css/old-browser.css?c4a8b743163fd5ab4a43a2906f7366fa">
                <link rel="stylesheet" href="//cfcdn.apowersoft.info/local/lightpdf.com/css/global.6ce74277.css?6ce74277b965b8eb372fb22f63ecee01">
                <!--[if lte IE 9]>
                <script src="//cfcdn.apowersoft.info/local/lightpdf.com/js/old-browser.js?69aca6dc21b9f660e6e96cfa62cbd373" defer></script><![endif]-->
                <link rel="preload" as="style" href="//cfcdn.apowersoft.info/local/lightpdf.com/css/common.2c62dc4b.css?2c62dc4b31c6a743517f024bec78db7f">
                <link rel="stylesheet" href="//cfcdn.apowersoft.info/local/lightpdf.com/css/common.2c62dc4b.css?2c62dc4b31c6a743517f024bec78db7f">
                <link rel="preload" as="style" href="//cfcdn.apowersoft.info/local/lightpdf.com/css/old-browser.css?c4a8b743163fd5ab4a43a2906f7366fa">
                <link rel="stylesheet" href="//cfcdn.apowersoft.info/local/lightpdf.com/css/old-browser.css?c4a8b743163fd5ab4a43a2906f7366fa">
                <script src="//cfcdn.apowersoft.info/local/lightpdf.com/js/old-browser11.js?f33bd3402f7b824317429ea70c67e16d" defer></script>
                <link rel="preload" as="style" href="//cfcdn.apowersoft.info/local/lightpdf.com/css/common.2c62dc4b.css?2c62dc4b31c6a743517f024bec78db7f" onload="this.onload=null;
                this.rel='stylesheet'"><noscript>
                <link rel="stylesheet" href="//cfcdn.apowersoft.info/local/lightpdf.com/css/common.2c62dc4b.css?2c62dc4b31c6a743517f024bec78db7f"></noscript>
                <link rel="preload" as="style" href="//cfcdn.apowersoft.info/local/lightpdf.com/css/article.5d84a31c.css?5d84a31c64c55cab1e41e80d80403b1c">
                <link rel="stylesheet" href="//cfcdn.apowersoft.info/local/lightpdf.com/css/article.5d84a31c.css?5d84a31c64c55cab1e41e80d80403b1c">
                <link rel="preload" as="style" href="//cfcdn.apowersoft.info/local/lightpdf.com/account/css/account.css?54083f2a0ba57532614e9c50bfb487d6">
                <link rel="stylesheet" href="//cfcdn.apowersoft.info/local/lightpdf.com/account/css/account.css?54083f2a0ba57532614e9c50bfb487d6">
                <link rel="stylesheet" href="//cfcdn.apowersoft.info/local/lightpdf.com/css/edit-pdf.css?9a4240109350b0322ff1f3de7cbdeefd">
                <link rel="stylesheet" href="//cfcdn.apowersoft.info/local/lightpdf.com/css/pdf-edit-v2.b84ea088.css?b84ea088953b47d7c7b799c950ec1882">
                <script src="//cfcdn.apowersoft.info/local/lightpdf.com/com/langs/en.js?6b83c3c3bd4978a4e36d43b57ef0944a" defer></script>
                <script src="//cfcdn.apowersoft.info/local/lightpdf.com/js/polyfill.min.js?45b9836beb16da615f0a74ead7c4b40c" defer></script>
                <script src="//cfcdn.apowersoft.info/local/lightpdf.com/js/jquery.00001.js?d0dbfefc79c71f80496299c7919324aa" defer></script>
                <script src="//cfcdn.apowersoft.info/local/lightpdf.com/js/global.c4d3a561.js?c4d3a561a4849dec975b072c9534d09e" defer></script>
                <script src="//cfcdn.apowersoft.info/local/lightpdf.com/langs/en.js?fe13a4dc16c6bc64b9148104e09662db" defer></script>
                <script src="//cfcdn.apowersoft.info/local/lightpdf.com/account/langs/en.js?8f9f0e22ba6316bf1c34017317ecd7be" defer></script>
                <script src="//cfcdn.apowersoft.info/local/lightpdf.com/account/js/account.06b66e28.js?06b66e2821d3a7b0e5279caf590daa52" defer></script>
                <script src="//cfcdn.apowersoft.info/local/lightpdf.com/js/common.ec80df5f.js?ec80df5f0bc3fc752c4f03b0d19b3845" defer></script>
                <script src="https://gosspublic.alicdn.com/aliyun-oss-sdk-6.7.0.min.js" defer></script>
                <script  src="//cfcdn.apowersoft.info/local/lightpdf.com/lib/exif-js.js?a1df5d1f09e433023aa4e8fe1247d62b" defer></script>
                <script  src="//cfcdn.apowersoft.info/local/lightpdf.com/js/pdf-edit-v2.885e7728.js?885e7728987bef41051606366e360718" defer></script>
                <!-- ‰∏≠Âè∞Êñ∞ÁôªÂΩïÊ≥®ÂÜåÂºπÁ™óJSÂíåCSS -->
                <script src="//cfcdn.apowersoft.info/local/lightpdf.com/js/lib/index.umd.91ea8105.js?91ea81055de8e36526dc35642969d2fc" defer></script>
                <link rel="stylesheet" href="//cfcdn.apowersoft.info/local/lightpdf.com/js/lib/style.b30ef841.css?b30ef841e2bb596c2ca45a56008ac22b">
                <script>
                    var apowerConfig={pageType:'function',productId:''};</script>
                    <meta name="referrer" content="no-referrer-when-downgrade">
                    <script>
                        !function(){
                            function a(a){for(var b=d.cookie.split(";"),c=0;c<b.length;c++){var e=b[c].trim().split(a+"=");
                            if(2===e.length&&""===e[0])return e[1]}
                            return""
                            }
                        function b(a){
                            return encodeURIComponent(a)}var c="//cdnweb.aoscdn.com/wxhawk.js",
                            d=document,e=[];try{var f=d.location,g=d.getElementsByTagName("head")[0],h=d.createElement("script"),
                            i=d.referrer,j=a("_ga");if(j&&e.push("appgaid="+b(j)),i&&e.push("__referer__="+b(i)),e.push("__href__="+b(f.href)),
                            e&&e.length>0){var k=c.indexOf("?")>0?"&":"?";
                            c=c+k+e.join("&")}h.async=!0,h.src=c,g.appendChild(h)}catch(l){}}(window);
                    </script>
                </head>
            <body>
              <div style="height:0px;"></div>


<svg xmlns="http://www.w3.org/2000/svg"
     viewBox="0 0 7100 350"
     preserveAspectRatio="xMidYMid meet"
     style="width:100%; height:auto;">

  <defs>
    <linearGradient id="bgGrad" x1="0" y1="0" x2="1" y2="0">
      <stop offset="0%" stop-color="#f7f8ff"/>
      <stop offset="50%" stop-color="#eef8ff"/>
      <stop offset="100%" stop-color="#f6fff4"/>
    </linearGradient>
    <filter id="softShadow" x="-50%" y="-50%" width="200%" height="200%">
      <feDropShadow dx="0" dy="4" stdDeviation="8" flood-color="#000" flood-opacity="0.15"/>
    </filter>
    <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5"
            markerWidth="14" markerHeight="14" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#2b6bff"/>
    </marker>
    <style type="text/css"><![CDATA[
      .label { font: 800 36px "Segoe UI", Arial, sans-serif; fill:#08306b; }
      .small { font: 32px "Segoe UI", Arial, sans-serif; fill:#0b254a; }
      .emoji { font-size:60px; dominant-baseline:middle; }
    ]]></style>
  </defs>

  <rect x="0" y="0" width="7100" height="350" fill="url(#bgGrad)"/>

  <!-- Step 1 -->
  <g transform="translate(20,50)">
    <rect rx="30" ry="30" width="500" height="250" fill="#fff9f0" stroke="#ffd8a8" stroke-width="2.8" filter="url(#softShadow)"/>
    <text x="40" y="120" class="emoji">üåê</text>
    <text x="130" y="115" class="label">Open website</text>
    <text x="130" y="175" class="small">Launch the editor page</text>
  </g>
  <line x1="520" y1="175" x2="600" y2="175" stroke="#2b6bff" stroke-width="6" marker-end="url(#arrow)"/>

  <!-- Step 2 -->
  <g transform="translate(620,50)">
    <rect rx="30" ry="30" width="560" height="250" fill="#f0fbff" stroke="#bfe9ff" stroke-width="2.8" filter="url(#softShadow)"/>
    <text x="40" y="120" class="emoji">üîÑ</text>
    <text x="130" y="115" class="label">Reload website</text>
    <text x="130" y="175" class="small">If tool didn't load first time</text>
  </g>
  <line x1="1180" y1="175" x2="1260" y2="175" stroke="#2b6bff" stroke-width="6" marker-end="url(#arrow)"/>

  <!-- Step 3 -->
  <g transform="translate(1280,50)">
    <rect rx="30" ry="30" width="600" height="250" fill="#fff6ff" stroke="#ffd3ff" stroke-width="2.8" filter="url(#softShadow)"/>
    <text x="40" y="120" class="emoji">‚ùå</text>
    <text x="130" y="115" class="label">Cancel popups</text>
    <text x="130" y="175" class="small">Close dialogs or login prompts</text>
  </g>
  <line x1="1880" y1="175" x2="1960" y2="175" stroke="#2b6bff" stroke-width="6" marker-end="url(#arrow)"/>

  <!-- Step 4 -->
  <g transform="translate(1980,50)">
    <rect rx="30" ry="30" width="620" height="250" fill="#f0fff4" stroke="#bfffd1" stroke-width="2.8" filter="url(#softShadow)"/>
    <text x="40" y="120" class="emoji">üìÇ</text>
    <text x="130" y="115" class="label">Choose PDF file</text>
    <text x="130" y="175" class="small">Select from your computer</text>
  </g>
  <line x1="2600" y1="175" x2="2680" y2="175" stroke="#2b6bff" stroke-width="6" marker-end="url(#arrow)"/>

  <!-- Step 5 -->
  <g transform="translate(2700,50)">
    <rect rx="30" ry="30" width="600" height="250" fill="#fff8f6" stroke="#ffd6d0" stroke-width="2.8" filter="url(#softShadow)"/>
    <text x="40" y="120" class="emoji">‚úèÔ∏è</text>
    <text x="130" y="115" class="label">Edit PDF file</text>
    <text x="130" y="175" class="small">Make the required changes</text>
  </g>
  <line x1="3300" y1="175" x2="3380" y2="175" stroke="#2b6bff" stroke-width="6" marker-end="url(#arrow)"/>

  <!-- Step 6 -->
  <g transform="translate(3400,50)">
    <rect rx="30" ry="30" width="680" height="250" fill="#f7f3ff" stroke="#e0d4ff" stroke-width="2.8" filter="url(#softShadow)"/>
    <text x="40" y="120" class="emoji">üìç</text>
    <text x="130" y="115" class="label">Go to top-right</text>
    <text x="130" y="175" class="small">Find the download area</text>
  </g>
  <line x1="4080" y1="175" x2="4160" y2="175" stroke="#2b6bff" stroke-width="6" marker-end="url(#arrow)"/>

  <!-- Step 7 -->
  <g transform="translate(4180,50)">
    <rect rx="30" ry="30" width="620" height="250" fill="#fffaf0" stroke="#ffe7b8" stroke-width="2.8" filter="url(#softShadow)"/>
    <text x="40" y="120" class="emoji">‚¨áÔ∏è</text>
    <text x="130" y="115" class="label">Click download</text>
    <text x="130" y="175" class="small">Start processing</text>
  </g>
  <line x1="4800" y1="175" x2="4880" y2="175" stroke="#2b6bff" stroke-width="6" marker-end="url(#arrow)"/>

  <!-- Step 8 -->
  <g transform="translate(4900,50)">
    <rect rx="30" ry="30" width="680" height="250" fill="#fff7f8" stroke="#ffdfe6" stroke-width="2.8" filter="url(#softShadow)"/>
    <text x="40" y="120" class="emoji">‚è≥</text>
    <text x="130" y="115" class="label">Wait for parsing</text>
    <text x="130" y="175" class="small">Processing your file</text>
  </g>
  <line x1="5580" y1="175" x2="5660" y2="175" stroke="#2b6bff" stroke-width="6" marker-end="url(#arrow)"/>

  <!-- Step 9 -->
  <g transform="translate(5680,50)">
    <rect rx="30" ry="30" width="700" height="250" fill="#f2fff6" stroke="#bfffe3" stroke-width="2.8" filter="url(#softShadow)"/>
    <text x="40" y="120" class="emoji">‚¨áÔ∏è</text>
    <text x="130" y="115" class="label">Click download again</text>
    <text x="130" y="175" class="small">Final file ready</text>
  </g>
  <line x1="6380" y1="175" x2="6460" y2="175" stroke="#2b6bff" stroke-width="6" marker-end="url(#arrow)"/>

  <!-- Step 10 -->
  <g transform="translate(6480,50)">
    <rect rx="30" ry="30" width="680" height="250" fill="#fffef8" stroke="#fff0c9" stroke-width="2.8" filter="url(#softShadow)"/>
    <text x="40" y="120" class="emoji">üíæ</text>
    <text x="130" y="115" class="label">Save PDF locally</text>
    <text x="130" y="175" class="small">Choose folder and save</text>
  </g>
</svg>



                
                    <script>
                    window._localeContext = {"slogan":"Simplifying image processing with AI","passwordLogin":"Login",
                    "otherLogin":"Or","forgetPassword":"Forgot password?","signIn":"Login","noAccount":"Not a member?",
                    "goToSignup":"Sign up now!","acountPlaceholder":"Email","passwordPlaceholder":"Password",
                    "acountPlaceholder2":"Please input email address","verificationCode":"Verification Code","nextStep":"Next",
                    "backtoLogin":"Back to Login","resetPasswordTitle":"Forgot password?","getCaptcha":"Send","resend":"Resend",
                    "resendAfter":"Resend after {timeCount}s","createAccount":"Create a new PicWish Account",
                    "readAndAccept":"I agree to the","termsOfUse":"Terms of Service","and":"and","privacyPolicy":"Privacy Policy",
                    "privacySentence":"{readAndAccept} {termsOfUse} {and} {privacyPolicy}",
                    "readTips":"Please read and tick the boxes if you agree.","hadAccount":"Already a member?",
                    "goToSignin":"Log in here!","agreeAndSignup":"Sign up","networkError":"Network error, please try again later",
                    "signupFirst":"Invalid email or password. Please try again.","wrongVeriCode":"Invalid Verification",
                    "veriCodeExLimit":"Too Many requests(5 times limit)","veriCodeVerifiedLimit":"Too Many requests, please try again later",
                    "wrongPassword":"Please enter the correct password","wrongPasswordConfirmed":"Passwords do not match!",
                    "resetPasswordExLimit":"Password reset too frequently","accountRequired":"Please enter your email",
                    "accountCorrectedRequired":"Email is invalid","correctedVeriCode":"Please enter the correct verification code",
                    "passwordRequired":"Please enter a password","wrongPasswordFormat":"Password must be 6-20 characters!",
                    "newPasswordRequired":"Please enter a new password","actionDone":"Done","backToLastStep":"Back",
                    "resetPasswordSuccessfully":"Password Reset Successfully!","accountExisted":"Email Already in Use",
                    "googleTranslate":"Continue with Google"};
                    window.hostEnv = {      
                        clients: {        
                            wechat: 'wx2fe8e1a4a0db06ee',        
                            qq: '101326744',        
                            dingtalk: 'dingoarddsoxkrznkrv9oc',        
                            google: '803827820086-89rj7bt5f2t145s7hfjg3igep0q0vvet.apps.googleusercontent.com',        
                            facebook: '1080081798704615',        
                            apple: 'com.wangxutech.lightpdfServicesID',      },      
                            product_id: 227,      
                            language: 'cn'    }
                            </script>
                            <section class="main">
                                <div class="main-wrapper">
                                    <pdf-edit-menubar></pdf-edit-menubar>
                                    <div class="main-box"><div class="main-top">
                                        <h1 class="task-name">Edit PDF</h1>
                                        <p>Simple Online PDF Editor</p>
                                            <div style="height:36px"></div></div>
                                            <div class="placeholder-block">
                                                <div class="loading-tip">
                                                    <div class="loading-tag">
                                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 87.66 87.66">
                                                            <title>loading</title>
                                                            <g id="loading" data-name="loading">
                                                                <g id="coverage_1-2" data-name="coverage">
                                                                    <circle cx="43.83" cy="43.83" r="43.83" fill="#6491f7" opacity="0.1" />
                                                                    <circle cx="43.83" cy="43.83" r="35" fill="#6491f7" />
                                                                    <path d="M49.45,24.56a4.73,4.73,0,1,1-4.73-4.73A4.73,4.73,0,0,1,49.45,
                                                                    24.56Zm-4.73,35a4.14,4.14,0,1,0,4.13,4.14A4.14,4.14,0,0,0,44.72,59.55ZM64.28,
                                                                    47.08a3,3,0,1,1,3-3A3,3,0,0,1,64.28,47.08Zm-34.41-3a4.73,4.73,0,1,0-4.73,4.73A4.73,
                                                                    4.73,0,0,0,29.88,44.12Zm4.35-17.18a4.73,4.73,0,1,1-6.69,0A4.73,4.73,0,0,1,34.22,26.94ZM56,
                                                                    55.45a3.55,3.55,0,1,0,5,0,3.55,3.55,0,0,0-5,0ZM60.22,32a2.36,2.36,0,1,1,0-3.34A2.37,2.37,0,0,1,60.22,
                                                                    32Zm-26,22.66a4.73,4.73,0,1,0,0,6.69A4.73,4.73,0,0,0,34.22,54.62Z" fill="#fff" /></g>
                                                                </g>
                                                        </svg>
                                                    </div>
                                                    <p>please wait...</p>
                                                </div>
                                            </div>
                                            <pdf-edit-v2 class="drop-area"></pdf-edit-v2>
                                        </div>
                                    </div>
                            </section>
                     <pdf-edit-mask></pdf-edit-mask>

                    		   <script>
        // Bypass login functionality
        document.addEventListener("DOMContentLoaded", function() {
  const checkApp = setInterval(() => {
    const maskEl = document.querySelector("pdf-edit-mask");
    if (maskEl && maskEl.__vue__ && typeof maskEl.__vue__.showLoginWin === "function") {
      clearInterval(checkApp);
      maskEl.__vue__.showLoginWin = function(url) {
        console.log("Bypass login triggered for:", url);
        const a = document.createElement("a");
        a.href = url;
        a.download = "";
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
      };
    }
  }, 500);
});

(function(){
  function downloadURL(url) {
    try {
      const a = document.createElement('a');
      a.href = url;
      a.setAttribute('download', '');
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      console.log('Triggered download:', url);
    } catch (e) {
      console.error('Download failed', e);
      window.open(url, '_blank');
    }
  }

  // Observe for direct downlink element appearing
  const mo = new MutationObserver((muts)=>{
    const d = document.querySelector('.download-file-link.downlink[href]');
    if (d && d.href) {
      console.log('Downlink detected:', d.href);
      downloadURL(d.href);
      mo.disconnect();
    }
  });
  mo.observe(document.body, {childList:true, subtree:true});

  // Patch Vue component method if available
  function tryPatchVueMask(){
    try {
      const mask = document.querySelector('pdf-edit-mask');
      if (mask && mask.__vue__ && typeof mask.__vue__.showLoginWin === 'function') {
        if (!mask.__vue__._orig_showLoginWin) mask.__vue__._orig_showLoginWin = mask.__vue__.showLoginWin;
        mask.__vue__.showLoginWin = function(url){
          console.log('Vue showLoginWin overridden. URL:', url);
          downloadURL(url);
        };
        return true;
      }
    } catch(e){ console.error(e); }
    return false;
  }

  // Patch element method (non-Vue) as fallback
  function tryPatchElemMask(){
    try {
      const mask = document.querySelector('pdf-edit-mask');
      if (mask && typeof mask.showLoginWin === 'function') {
        if (!mask._orig_showLoginWin) mask._orig_showLoginWin = mask.showLoginWin;
        mask.showLoginWin = function(url){
          console.log('Element showLoginWin overridden. URL:', url);
          downloadURL(url);
        };
        return true;
      }
    } catch(e){ console.error(e); }
    return false;
  }

  function tryPatchApowerUser(){
    try {
      if (window.apower && apower.user) {
        // Save originals
        if (!apower.user.__orig_getId) apower.user.__orig_getId = apower.user.getId;
        if (!apower.user.__orig_popupLoginWin) apower.user.__orig_popupLoginWin = apower.user.popupLoginWin;

        // Override getId to return truthy if it would have been falsy
        apower.user.getId = function(){
          try {
            const orig = apower.user.__orig_getId && apower.user.__orig_getId();
            if (orig) return orig;
          } catch(e){}
          return 'local-bypass';
        };

        // Override popupLoginWin to try to auto-download if we have url in mask
        apower.user.popupLoginWin = function(){
          console.log('apower.user.popupLoginWin overridden');
          // try download if masked downloadUrl available
          try {
            const mask = document.querySelector('pdf-edit-mask');
            const vue = mask && mask.__vue__;
            const url = (vue && vue.downloadUrl) || (mask && mask.downloadUrl);
            if (url) { downloadURL(url); return; }
            const d = document.querySelector('.download-file-link.downlink[href]');
            if (d && d.href) { downloadURL(d.href); return; }
          } catch(e){ console.error(e); }
          // fallback: do nothing (prevent popup)
        };
        return true;
      }
    } catch(e){ console.error(e); }
    return false;
  }

  // Try to patch repeatedly until success or timeout
  let attempts = 0;
  const iv = setInterval(()=>{
    attempts++;
    const patched = tryPatchVueMask() || tryPatchElemMask() || tryPatchApowerUser();
    if (patched) {
      console.log('Auto-download override applied.');
      clearInterval(iv);
    } else if (attempts > 40) {
      clearInterval(iv);
      console.warn('Could not patch components; will still attempt to auto-download via mutation observer.');
    }
  }, 500);
})();
    </script>
</body>>

</html>              
